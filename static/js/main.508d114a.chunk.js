(this["webpackJsonpdraft-picker"]=this["webpackJsonpdraft-picker"]||[]).push([[0],{26:function(t,e,a){},28:function(t,e,a){},41:function(t,e,a){},42:function(t,e,a){},43:function(t,e,a){},44:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a(1),r=a.n(i),o=a(13),s=a.n(o),c=(a(26),a(2)),l=a(3),h=a(5),u=a(4),m=a(10),f=a(14),g=a(7),d=a.n(g),p=a(20),v=a(15),y=0,b=1,j=[{filePath:"audio/clang1.mp3",type:y},{filePath:"audio/clang2.mp3",type:y},{filePath:"audio/drain.mp3",type:y},{filePath:"audio/fwoomp.mp3",type:y},{filePath:"audio/vacuum.mp3",type:b},{filePath:"audio/wrapper1.mp3",type:y},{filePath:"audio/wrapper2.mp3",type:y}],S=j.filter((function(t){return t.type===y})),w=j.filter((function(t){return t.type===b}))[0],x=function(){function t(){var e=this;Object(c.a)(this,t),this.audioMap={},j.forEach((function(t){return e.loadAudioFile(t)}))}return Object(l.a)(t,[{key:"loadAudioFile",value:function(t){var e=document.createElement("audio");e.src=t.filePath,e.volume=.2,this.audioMap[t.filePath]=e}},{key:"playRandomNoise",value:function(){var t=Math.floor(Math.random()*S.length);this.audioMap[S[t].filePath].play()}},{key:"playVacuumSound",value:function(){var t=this.audioMap[w.filePath];t.loop=!0,t.play()}},{key:"stopVacuumSound",value:function(){this.audioMap[w.filePath].pause()}}]),t}();function C(t,e){return{x:t.x+e.x,y:t.y+e.y}}function k(t,e){return{x:t.x-e.x,y:t.y-e.y}}function O(t,e){return{x:t.x*e,y:t.y*e}}function M(t){return Math.atan2(t.y,t.x)}function P(t,e){var a=t.x-e.x,n=t.y-e.y;return Math.sqrt(Math.pow(a,2)+Math.pow(n,2))}function R(t){return O(t,1/function(t){return P(t,{x:0,y:0})}(t))}a(28);var D=1500,U=1500,A={x:750,y:750},I=100,L=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).canvasRef=r.a.createRef(),n.draftState={totalContestants:t.contestants.length,remainingContestants:[],fadingContestants:[],draftedContestants:[]},n.imgs={},n.audios={},n.roomba={angle:-Math.PI/2,posn:{x:0,y:0},targetAngle:null},n.cameraOffset={x:0,y:0},n.generatePosns(),n.audioManager=new x,n}return Object(l.a)(a,[{key:"isColliding",value:function(t,e){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return P(t,e)<=I+a}},{key:"getRandomPosn",value:function(t){for(var e=this,a=function(){var a=1400*Math.random()+50,n=1400*Math.random()+50;if(!t.some((function(t){return e.isColliding(t.posn,{x:a,y:n},50)})))return{v:{x:a,y:n}}};;){var n=a();if("object"===typeof n)return n.v}}},{key:"getImageLoadPromise",value:function(t,e){var a=this;return new Promise((function(n,i){var r=document.createElement("img");r.onload=n,r.onerror=i,r.src=e,a.imgs[t]=r}))}},{key:"loadImages",value:function(){var t=Object(v.a)(d.a.mark((function t(){var e,a=this;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=[]).push.apply(e,Object(p.a)(this.props.contestants.map((function(t){return a.getImageLoadPromise(t.name,t.imgUrl)})))),e.push(this.getImageLoadPromise("roomba","img/roomba.jpg")),e.push(this.getImageLoadPromise("floor","img/floor.jpg")),t.abrupt("return",Promise.all(e));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"generatePosns",value:function(){this.roomba.posn={x:750,y:750};var t,e=Object(f.a)(this.props.contestants);try{for(e.s();!(t=e.n()).done;){var a=t.value,n=this.getRandomPosn(this.draftState.remainingContestants.concat(this.roomba));this.draftState.remainingContestants.push(Object(m.a)(Object(m.a)({},a),{},{posn:n}))}}catch(i){e.e(i)}finally{e.f()}}},{key:"incrementRoombaAngle",value:function(){(function(t,e){var a=Math.min(t,e),n=Math.max(t,e);return Math.min(n-a,a+2*Math.PI-n)})(this.roomba.angle,this.roomba.targetAngle)<.03?(this.roomba.angle=this.roomba.targetAngle,this.roomba.targetAngle=null,this.incrementRoombaPosn()):this.roomba.angle=(this.roomba.angle+.03)%(2*Math.PI)}},{key:"incrementRoombaPosn",value:function(){var t,e=C(this.roomba.posn,O((t=this.roomba.angle,{x:Math.cos(t),y:Math.sin(t)}),2)),a=e.x,n=e.y;this.roomba.posn={x:Math.min(Math.max(a,50),1450),y:Math.min(Math.max(n,50),1450)}}},{key:"incrementFadingContestantPosn",value:function(t){if(P(t.posn,this.roomba.posn)<4)t.posn=Object(m.a)({},this.roomba.posn);else{var e=R(k(this.roomba.posn,t.posn));t.posn=C(t.posn,O(e,4))}}},{key:"nudgeAngle",value:function(t){return(t+2*Math.random()*.5-.5+2*Math.PI)%(2*Math.PI)}},{key:"applyCameraOffset",value:function(t){return k(t,this.cameraOffset)}},{key:"drawFloor",value:function(){for(var t=this.applyCameraOffset({x:0,y:0}),e=this.canvasRef.current.getContext("2d"),a=0;a<4;a++)for(var n=0;n<4;n++){var i=t.x+375*a,r=t.y+375*n;e.drawImage(this.imgs.floor,i,r,375,375)}}},{key:"drawContestants",value:function(){var t,e=this.canvasRef.current.getContext("2d"),a=Object(f.a)(this.draftState.remainingContestants.concat(this.draftState.fadingContestants));try{for(a.s();!(t=a.n()).done;){var n=t.value,i=this.imgs[n.name],r=this.applyCameraOffset(n.posn),o=r.x,s=r.y;e.beginPath(),e.lineWidth=3,e.strokeStyle="#000",e.arc(o,s,50,0,2*Math.PI),e.closePath(),e.stroke(),e.save(),e.beginPath(),e.arc(o,s,50,0,2*Math.PI),e.clip(),e.drawImage(i,o-50,s-50,I,I),e.restore(),e.fillStyle="#fff",e.strokeStyle="#000",e.lineWidth=1,e.fillRect(o-50,s+50-12,I,16),e.strokeRect(o-50,s+50-12,I,16),e.fillStyle="#000",e.textAlign="center",e.fillText(n.name,o,s+50)}}catch(c){a.e(c)}finally{a.f()}}},{key:"drawRoomba",value:function(){var t=this.canvasRef.current.getContext("2d"),e=this.imgs.roomba,a=this.applyCameraOffset(this.roomba.posn),n=a.x,i=a.y;t.save(),t.translate(n,i),t.rotate(this.roomba.angle),t.beginPath(),t.arc(0,0,50,0,2*Math.PI),t.clip(),t.drawImage(e,-50,-50,I,I),t.restore()}},{key:"draw",value:function(){var t=Math.min(document.body.clientWidth,D),e=Math.min(window.innerHeight-100,U),a=this.canvasRef.current;if(a){var n=a.getContext("2d");n.canvas.width=t,n.canvas.height=e,this.cameraOffset={x:Math.min(Math.max(this.roomba.posn.x-n.canvas.width/2,0),D-n.canvas.width),y:Math.min(Math.max(this.roomba.posn.y-n.canvas.height/2,0),U-n.canvas.height)},this.drawFloor(),this.drawContestants(),this.drawRoomba()}}},{key:"updateState",value:function(){for(var t=this,e=this.draftState.remainingContestants.length-1;e>=0;e--){var a=this.draftState.remainingContestants[e];this.isColliding(a.posn,this.roomba.posn)&&(this.draftState.remainingContestants.splice(e,1),this.draftState.fadingContestants.push(a))}for(var n=this.draftState.fadingContestants.length-1;n>=0;n--){var i=this.draftState.fadingContestants[n];P(i.posn,this.roomba.posn)<2&&(this.draftState.fadingContestants.splice(n,1),this.draftState.draftedContestants.push(i),this.audioManager.playRandomNoise(),this.props.onContestantSelected(i))}var r=this.roomba.posn.x<=50||this.roomba.posn.x>=1450||this.roomba.posn.y<=50||this.roomba.posn.y>=1450;if(null===this.roomba.targetAngle&&r){var o=this.nudgeAngle(M(k(A,this.roomba.posn)));if(this.draftState.remainingContestants.length){var s=Math.floor(Math.random()*this.draftState.remainingContestants.length);o=(M(R(k(this.draftState.remainingContestants[s].posn,this.roomba.posn)))+2*Math.PI)%(2*Math.PI)}this.roomba.targetAngle=o}null!==this.roomba.targetAngle?this.incrementRoombaAngle():this.incrementRoombaPosn(),this.draftState.fadingContestants.forEach((function(e){t.incrementFadingContestantPosn(e)}))}},{key:"isDoneDrafting",value:function(){return!this.draftState.remainingContestants.length&&!this.draftState.fadingContestants.length}},{key:"tick",value:function(){var t=this;this.draw(),this.updateState(),this.isDoneDrafting()?(this.draw(),this.props.onDraftCompleted(),this.audioManager.stopVacuumSound()):window.requestAnimationFrame((function(){t.tick()}))}},{key:"componentDidMount",value:function(){var t=Object(v.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadImages();case 2:this.props.onDraftReady();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(t){var e=this;this.props.isDraftShowing&&!t.isDraftShowing&&(this.draw(),this.audioManager.playVacuumSound(),setTimeout((function(){e.tick()}),2e3))}},{key:"render",value:function(){return Object(n.jsx)("canvas",{className:"drafting-canvas",ref:this.canvasRef})}}]),a}(i.PureComponent),N=a(19),T=(a(41),function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).resultsLabelRef=r.a.createRef(),n}return Object(l.a)(a,[{key:"render",value:function(){var t=this,e=this.props.resultList.map((function(t,e){return t?Object(n.jsxs)("div",{className:"results-item",children:[e+1,". ",t.toUpperCase()]},e+t):Object(n.jsx)("div",{className:"results-item",children:"\xa0"},e)}));return Object(n.jsxs)("div",{className:"results-container",children:[Object(n.jsx)("div",{ref:this.resultsLabelRef,className:"results-label",onClick:function(){return t.props.onLabelClicked()},children:"RESULTS"}),Object(n.jsx)(N.CSSTransitionGroup,{transitionName:"results-item",transitionEnterTimeout:500,transitionLeave:!1,children:e})]})}}]),a}(i.PureComponent)),B=[{name:"Abigail",imgUrl:"img/abigail.jpg"},{name:"Alana",imgUrl:"img/alana.jpg"},{name:"Alicia",imgUrl:"img/alicia.jpg"},{name:"Amber",imgUrl:"img/amber.jpg"},{name:"Anna",imgUrl:"img/anna.jpg"},{name:"Bri",imgUrl:"img/bri.jpg"},{name:"Carolyn",imgUrl:"img/carolyn.jpg"},{name:"Casandra",imgUrl:"img/casandra.jpg"},{name:"Chelsea",imgUrl:"img/chelsea.jpg"},{name:"Corrinne",imgUrl:"img/corrinne.jpg"},{name:"Emani",imgUrl:"img/emani.jpg"},{name:"Illeana",imgUrl:"img/illeana.jpg"},{name:"Jessenia",imgUrl:"img/jessenia.jpg"},{name:"Kaili",imgUrl:"img/kaili.jpg"},{name:"Katie",imgUrl:"img/katie.jpg"},{name:"Khaylah",imgUrl:"img/khaylah.jpg"},{name:"Kimberly",imgUrl:"img/kimberly.jpg"},{name:"Kit",imgUrl:"img/kit.jpg"},{name:"Kristin",imgUrl:"img/kristin.jpg"},{name:"Lauren",imgUrl:"img/lauren.jpg"},{name:"Magi",imgUrl:"img/magi.jpg"},{name:"Mari",imgUrl:"img/mari.jpg"},{name:"Marylynn",imgUrl:"img/marylynn.jpg"},{name:"MJ",imgUrl:"img/mj.jpg"},{name:"Pieper",imgUrl:"img/pieper.jpg"},{name:"Rachael",imgUrl:"img/rachael.jpg"},{name:"Saneh",imgUrl:"img/saneh.jpg"},{name:"Sarah",imgUrl:"img/sarah.jpg"},{name:"Serena C.",imgUrl:"img/serenac.jpg"},{name:"Serena P.",imgUrl:"img/serenap.jpg"},{name:"Sydney",imgUrl:"img/sydney.jpg"},{name:"Victoria",imgUrl:"img/victoria.jpg"}],E=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={resultList:new Array(B.length).fill("")},n.currentResultIndex=B.length-1,n.resultsContainerRef=r.a.createRef(),n}return Object(l.a)(a,[{key:"onContestantSelected",value:function(t){var e=this.state.resultList.slice(0);e[this.currentResultIndex--]=t.name,this.setState({resultList:e})}},{key:"onDraftReady",value:function(){this.props.onDraftReady()}},{key:"onDraftCompleted",value:function(){this.showResults()}},{key:"showResults",value:function(){this.resultsContainerRef.current.scrollIntoView({behavior:"smooth",block:"start"})}},{key:"render",value:function(){var t=this;return Object(n.jsxs)("div",{children:[Object(n.jsx)(L,{contestants:B,isDraftShowing:this.props.isDraftShowing,onContestantSelected:function(e){return t.onContestantSelected(e)},onDraftReady:function(){return t.onDraftReady()},onDraftCompleted:function(){return t.onDraftCompleted()}}),Object(n.jsx)("div",{ref:this.resultsContainerRef,children:this.props.isDraftShowing&&Object(n.jsx)(T,{resultList:this.state.resultList,onLabelClicked:function(){return t.showResults()}})})]})}}]),a}(i.PureComponent),F=(a(42),[57,79,86]),H=V(F,[119,137,146]),q=[24,34,37],K=V(q,[82,95,102]);function V(t,e){return t.map((function(t,a){return e[a]-t}))}var W=function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).canvasRef=r.a.createRef(),n.colorState={topProgress:0,botProgress:0},n.circles=[],n}return Object(l.a)(a,[{key:"draw",value:function(){var t=this,e=document.body.clientWidth,a=window.innerHeight,n=this.canvasRef.current;if(!n)return requestAnimationFrame((function(){return t.draw()}));var i=n.getContext("2d");i.canvas.width=e,i.canvas.height=a;var r=F.map((function(e,a){return e+H[a]/2*Math.sin(t.colorState.topProgress)})),o=q.map((function(e,a){return e+K[a]/2*Math.sin(t.colorState.botProgress)})),s=i.createLinearGradient(e/2,0,e/2,a);s.addColorStop(0,"rgb(".concat(r.join(","),")")),s.addColorStop(1,"rgb(".concat(o.join(","),")")),i.fillStyle=s,i.fillRect(0,0,e,a),this.colorState.topProgress+=.009,this.colorState.botProgress+=.001,Math.random()<.008&&this.circles.push({x:Math.random()*e,y:a+25+50+50,r:25+50*Math.random()});for(var c=this.circles.length-1;c>=0;c--){var l=this.circles[c];i.save();var h=i.createRadialGradient(l.x,l.y,0,l.x,l.y,l.r);h.addColorStop(0,"rgb(".concat(r.join(","),")")),h.addColorStop(1,"rgb(".concat(o.join(","),")")),i.beginPath(),i.arc(l.x,l.y,l.r,0,2*Math.PI),i.closePath(),i.fillStyle=h,i.fill(),i.restore(),l.y<-125?this.circles.splice(c,1):l.y-=1}requestAnimationFrame((function(){return t.draw()}))}},{key:"componentDidMount",value:function(){this.draw()}},{key:"render",value:function(){return Object(n.jsx)("canvas",{ref:this.canvasRef,className:"network-canvas"})}}]),a}(i.PureComponent),G=(a(43),function(t){Object(h.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(c.a)(this,a),(n=e.call(this,t)).state={isAppHeaderShowing:!1,isAppBody1Showing:!1,isAppBody2Showing:!1,isDraftButtonShowing:!1,hasDraftButtonTimeElapsed:!1,isDraftReady:!1,isHomeShowing:!0,isHomeRemoved:!1},n}return Object(l.a)(a,[{key:"onDraftReady",value:function(){var t={isDraftReady:!0};this.state.hasDraftButtonTimeElapsed&&(t.isDraftButtonShowing=!0),this.setState(t)}},{key:"onDraftButtonClicked",value:function(){var t=this;this.state.isDraftButtonShowing&&(this.setState({isHomeShowing:!1}),setTimeout((function(){t.setState({isHomeRemoved:!0})}),4e3))}},{key:"componentDidMount",value:function(){var t=this;setTimeout((function(){t.setState({isAppHeaderShowing:!0})}),1e3),setTimeout((function(){t.setState({isAppIntroShowing:!0})}),5e3),setTimeout((function(){t.setState({isAppQuestionShowing:!0})}),9e3),setTimeout((function(){var e={hasDraftButtonTimeElapsed:!0};t.state.isDraftReady&&(e.isDraftButtonShowing=!0),t.setState(e)}),11e3)}},{key:"render",value:function(){var t=this;return Object(n.jsxs)("div",{className:"app",children:[!this.state.isHomeRemoved&&Object(n.jsxs)("div",{className:"home-page "+(this.state.isHomeShowing?"":"fade-out "),children:[Object(n.jsx)(W,{}),Object(n.jsxs)("div",{className:"home-overlay",children:[Object(n.jsx)("header",{className:"app-header "+(this.state.isAppHeaderShowing?"fade-in shift-down":""),children:"Draft.AI"}),Object(n.jsxs)("section",{className:"app-body",children:[Object(n.jsxs)("p",{className:"app-intro "+(this.state.isAppIntroShowing?"fade-in":""),children:["We've leveraged ",Object(n.jsx)("a",{href:"https://www.sciencedirect.com/science/article/pii/S0004370216300790",target:"_blank",rel:"noreferrer",children:"state-of-the-art AI research"})," to answer ONE question:"]}),Object(n.jsx)("p",{className:"app-question "+(this.state.isAppQuestionShowing?"fade-in":""),children:Object(n.jsx)("strong",{children:"Who will win The Bachelor Season 25"})})]}),Object(n.jsx)("button",{onClick:function(){return t.onDraftButtonClicked()},className:"draft-button "+(this.state.isDraftButtonShowing?"fade-in":""),children:"GET STARTED"})]})]}),Object(n.jsx)("div",{className:"draft-background",children:Object(n.jsx)(E,{isDraftShowing:!this.state.isHomeShowing,onDraftReady:function(){return t.onDraftReady()}})})]})}}]),a}(i.PureComponent)),J=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,45)).then((function(e){var a=e.getCLS,n=e.getFID,i=e.getFCP,r=e.getLCP,o=e.getTTFB;a(t),n(t),i(t),r(t),o(t)}))};s.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(G,{})}),document.getElementById("root")),J()}},[[44,1,2]]]);
//# sourceMappingURL=main.508d114a.chunk.js.map